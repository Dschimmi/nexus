{#
    Admin Dashboard Template.
    Ermöglicht die Konfiguration der Module und verlinkt zur Seitenverwaltung.
#}
{% extends 'base.html.twig' %}

{% block title %}{{ 'admin.dashboard_title'|trans }} – {{ parent() }}{% endblock %}

{% block content %}
{# Admin-spezifisches CSS laden #}
<link rel="stylesheet" href="{{ asset('css/admin.css') }}">

<section class="std-page-container">
    
    {# Titel Bereich #}
    <div class="mb-2">
        <h1>{{ 'admin.dashboard_title'|trans }}</h1>
    </div>

    {# 
       Layout: 2-Spalten Grid (aus content.css).
       Links: Modul-Konfiguration.
       Rechts: Seiten-Verwaltung.
    #}
    <div class="grid-3">
        
        {# SPALTE 1: Module #}
        <div class="dashboard-card" style="height: 100%; margin-bottom: 0;">
            <h2>{{ 'admin.modules_title'|trans }}</h2>
            
            <form action="/admin/config" method="post">
                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="module_user_management" value="1" 
                               {% if modules.module_user_management %}checked{% endif %}>
                        <span class="checkbox-text">{{ 'admin.module_user'|trans }}</span>
                    </label>
                </div>

                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="module_site_search" value="1" 
                               {% if modules.module_site_search %}checked{% endif %}>
                        <span class="checkbox-text">{{ 'admin.module_search'|trans }}</span>
                    </label>
                </div>

                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="module_cookie_banner" value="1" 
                               {% if modules.module_cookie_banner %}checked{% endif %}>
                        <span class="checkbox-text">{{ 'admin.module_cookie'|trans }}</span>
                    </label>
                </div>

                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="module_language_selection" value="1" 
                               {% if modules.module_language_selection %}checked{% endif %}>
                        <span class="checkbox-text">{{ 'admin.module_lang'|trans }}</span>
                    </label>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        {{ 'admin.save_btn'|trans }}
                    </button>
                </div>
            </form>
        </div>

        {# SPALTE 2: Seiten-Verwaltung #}
        <div class="dashboard-card" style="height: 100%; margin-bottom: 0;">
            <h2>{{ 'admin.pages_title'|trans }}</h2>
            
            {# Buttons untereinander gestapelt #}
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <a href="/admin/pages" class="btn btn-primary" style="text-align: center;">
                    {{ 'admin.pages_btn_manage'|trans }}
                </a>

                <a href="/admin/pages/create" class="btn btn-outline" style="text-align: center;">
                    {{ 'admin.pages_create_link'|trans }}
                </a>
            </div>
        </div>

    </div>
</section>
{% endblock %}