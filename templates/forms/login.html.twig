{#
    Generisches Login-Formular.
    
    Erwartete Variablen:
    - page_title: (string) Titel der Seite
    - form_action: (string) Ziel-URL für das Formular
    - error: (string|null) Optionale Fehlermeldung (sollte bereits übersetzt sein)
    - last_username: (string) Vorbelegter Benutzername bei Fehler
#}
{% extends 'base.html.twig' %}

{% block title %}{{ page_title|default('Login') }} – {{ parent() }}{% endblock %}

{% block content %}
{# Modifier card--auth steuert die max-width und margin:auto #}
<section class="card card--auth">
    <h1 class="u-mb-4">{{ page_title|default('Login') }}</h1>

    {# Fehlermeldung anzeigen #}
    {% if error is defined and error %}
        <div class="alert alert--error u-mb-4">
            {{ error }}
        </div>
    {% endif %}

    <form action="{{ form_action }}" method="post">
        {% include 'partials/csrf_input.html.twig' with {'token_id': 'admin_login'} %}
        
        <div class="u-mb-4">
            <label for="username" class="u-block u-font-bold u-mb-1">{{ 'login.username_label'|trans }}</label>
            <input type="text" 
                   id="username" 
                   name="username" 
                   value="{{ last_username|default('') }}" 
                   class="form-input" 
                   required 
                   autofocus>
        </div>

        <div class="u-mb-4">
            <label for="password" class="u-block u-font-bold u-mb-1">{{ 'login.password_label'|trans }}</label>
            <input type="password" 
                   id="password" 
                   name="password" 
                   class="form-input" 
                   required>
        </div>

        <button type="submit" class="btn btn--primary btn--full-width">
            {{ 'login.submit_btn'|trans }}
        </button>
    </form>
</section>
{% endblock %}